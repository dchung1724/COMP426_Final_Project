//import {data} from "./test";


export const renderPage = function() {
    return `<div id="root">
                <header class="head">
                    <img src="/logo.png" alt="" class="fb">
                    <div class="main_nav">
                            <ul>
                                <li><a href="index.html">home</a></li>
                                <li><a href="about.html">search</a></li>
                                <li><a href="menu.html">my recipes</a></li>
                            </ul>
                    </div>
                </header>
                <div class="home">
		            <div class="home_container">
			            <div class="container">
                            <div class="row">
                                <div class="col">
                                    <p id="name"> RECIPE NAME </p>
                                    <p id="author">Author</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="recipe-content">
                    <p>Lorem ipsum dolor sit amet, verear laboramus mel cu, et lorem bonorum democritum nec. Te modo illud scripserit sea, tota nostrum argumentum sea ex. Mazim ludus iudicabit id vim. Mutat urbanitas usu in.
                    Sed et illum tractatos, ut vel persius graecis. Quas primis vituperatoribus sit ei. Duis dicta propriae eam eu, eu lucilius constituam nec. Eam omnes animal cu. Usu ea theophrastus complectitur, te vel numquam consetetur.
                    Utroque laoreet invenire nam an, ea quo equidem voluptatum. Quis officiis volutpat eos an, qui no eirmod impedit, vel ne putent commodo lucilius. Usu id dictas vivendo necessitatibus, clita nemore integre vis ex, in nobis voluptua principes eos. Nec an fastidii honestatis, an est unum consul scripserit. An admodum mandamus splendide eos, no nostro suscipit conceptam per, pri nibh recusabo in. Veniam ornatus nonumes ad vis, quando dictas nec id.
                    Vim at sale scripta, scaevola percipitur has te. Te duo primis essent, nostrum nominati his ea. Ut nibh nemore cum, dicit dolorum democritum no vel, brute qualisque evertitur eum in. Sea ne solet soleat salutandi, vivendum interesset dissentiunt eu pro, mea ea fabellas volutpat conclusionemque. Est facete tibique at, vel at option pertinacia efficiantur. Etiam harum facilisi eos et, admodum facilisi phaedrum te pri.
                    <br>
                    </p>
                    <p>Laoreet facilisis ei per, aeque laudem alienum in est, ei diam laboramus his. Qui mucius fierent ut. Ex duo labore putant adversarium, persius ponderum hendrerit sea eu. Has alii everti cu, lorem veritus mea ea. Dico elitr dignissim pro at, ea pro partem dolorem, doctus liberavisse ius ei. Vide omnis assueverit in vel, te erat idque definiebas est, quidam viderer eu sea. Duo omnes graeco cotidieque ei, has id deserunt explicari, amet aeterno an est.
                    Putant ceteros corrumpit qui an, an eum mundi consequat, nonumy option mel ex. Ea has debet audiam constituam. Eu probo adipiscing temporibus qui, cu nec latine singulis repudiandae. Qui veri decore nonumes ne. Ceteros dignissim vis eu.
                    <br>
                    Mea ne wisi graece discere, ut eum dico brute appellantur. In unum principes comprehensam sit, has ne augue laboramus. Sea id elit oblique argumentum. Ei vis quis aliquam offendit, sed persius iudicabit deterruisset an.
                    Ius ex nonumy feugait vituperatoribus, duo te esse aliquip theophrastus. Id elitr scriptorem vim. Dicat decore interesset ne sea, affert munere essent vis et. Dictas integre vix at, vix eruditi mediocrem an, usu autem sanctus vituperata cu. Sapientem dignissim constituto usu ei.
                    Qui ne labores mentitum, nulla quidam admodum eos te. Dolor euismod detracto his eu. Eam scaevola abhorreant deterruisset ea, ei nam diceret pericula. Usu et omnes noster honestatis, ei maiorum adipisci interesset mea, error constituto ei mei. Per ne erat facilisi, melius verear pericula te qui. Cu aperiam expetendis consequuntur eos, vim graeci mandamus similique an, ex duo oratio instructior. Te usu enim expetenda, modo fugit partiendo et mea.
                    <br>
                    Cu reque iracundia mei, ea enim nominati sed. Et paulo nonumy inermis usu, expetenda intellegat contentiones mel ut. Dicant prodesset ad eos, quas dicam doctus et pri, eu usu discere cotidieque. Esse ignota accommodare ex per, pri ut modo elaboraret. Ei quod augue duo. Id soleat mediocrem sit, sit cu lorem menandri.</p>  
                    <p>Laoreet facilisis ei per, aeque laudem alienum in est, ei diam laboramus his. Qui mucius fierent ut. Ex duo labore putant adversarium, persius ponderum hendrerit sea eu. Has alii everti cu, lorem veritus mea ea. Dico elitr dignissim pro at, ea pro partem dolorem, doctus liberavisse ius ei. Vide omnis assueverit in vel, te erat idque definiebas est, quidam viderer eu sea. Duo omnes graeco cotidieque ei, has id deserunt explicari, amet aeterno an est.
                    Putant ceteros corrumpit qui an, an eum mundi consequat, nonumy option mel ex. Ea has debet audiam constituam. Eu probo adipiscing temporibus qui, cu nec latine singulis repudiandae. Qui veri decore nonumes ne. Ceteros dignissim vis eu.
                    <br>
                    Mea ne wisi graece discere, ut eum dico brute appellantur. In unum principes comprehensam sit, has ne augue laboramus. Sea id elit oblique argumentum. Ei vis quis aliquam offendit, sed persius iudicabit deterruisset an.
                    Ius ex nonumy feugait vituperatoribus, duo te esse aliquip theophrastus. Id elitr scriptorem vim. Dicat decore interesset ne sea, affert munere essent vis et. Dictas integre vix at, vix eruditi mediocrem an, usu autem sanctus vituperata cu. Sapientem dignissim constituto usu ei.
                    Qui ne labores mentitum, nulla quidam admodum eos te. Dolor euismod detracto his eu. Eam scaevola abhorreant deterruisset ea, ei nam diceret pericula. Usu et omnes noster honestatis, ei maiorum adipisci interesset mea, error constituto ei mei. Per ne erat facilisi, melius verear pericula te qui. Cu aperiam expetendis consequuntur eos, vim graeci mandamus similique an, ex duo oratio instructior. Te usu enim expetenda, modo fugit partiendo et mea.
                    <br>
                    Cu reque iracundia mei, ea enim nominati sed. Et paulo nonumy inermis usu, expetenda intellegat contentiones mel ut. Dicant prodesset ad eos, quas dicam doctus et pri, eu usu discere cotidieque. Esse ignota accommodare ex per, pri ut modo elaboraret. Ei quod augue duo. Id soleat mediocrem sit, sit cu lorem menandri.</p>
                </div>
                <div class="social">


                </div>

                <footer>
                    <p>About</p>
                    <p>stuff</p>
                </footer>
    `;
}

export const setHeader = function() {
    var header = $('.head');

    if($(window).scrollTop() > 91)
    {
        header.addClass('scrolled');
        // hamburgerBar.addClass('scrolled');
    }
    else
    {
        header.removeClass('scrolled');
        
    }
}

export const newRecipe = async function() {  //get single recipe by id
    const recipe = await axios({
        method: 'get',
        url: '',
        withCredentials: true,
    });git
    $('.recipe-content').append(loadInfo(recipe)); 
}

export const loadInfo = function(recipe) {
    let time = new Date(recipe.updatedAt).toLocaleString("en-US");
    //load user's recipe img
    $('.home').css('background-image', `url(${recipe.picture})`);
    let home = `<div class="home_container">
                    <div class="container">
                        <div class="row">
                            <div class="col">
                                <p id="name">${recipe.name}</p>
                                <p id="author">${recipe.created_by}</p>
                                <p id="date">${time}</p>
                            </div>
                        </div>
                    </div>
                </div>
    `;
    $('.home').append(home);
}

export const loadIngred = function(recipe) {
    let ingred = recipe;
}




export const loadSocial = function(recipe) {
    let editButton = $(`<button class="button" id="editBtn"><i class="material-icons">create</i></button>`);
    let deleteButton = $(`<button class="button" id="deleteBtn"><i class="material-icons">delete</i></button>`);
    let likeButton = $(`<button class="button" id="likeBtn"><i class="material-icons">favorite</i>${recipe.likeCount}</button>`);
    let unlikeButton = $(`<button class="button" id="unlikeBtn"><i class="material-icons">favorite_border</i>${recipe.likeCount}</button>`);
    //let rerecipeButton = $(`<button class="button" id="rerecipeBtn" title="Add to your feed."><i class="material-icons">cached</i>${recipe.rerecipeCount}</button>`);
    //let commentButton = $(`<button class="button" id="commentBtn" title="Click again to hide replies."><i class="material-icons">add_comment</i>${recipe.commentCount}</button>`);

    if(recipe.isMine) {
        $('social').append(editButton,deleteButton);
    } else {
        if(recipe.isLiked) {
            $('social').append(likeButton);
        } else {
            $('social').append(unlikeButton);
        }
    }
}


export const loadComments = async function() { //displays comments
    event.preventDefault();
    const result = await axios({
        method: 'get',
        // url: `aaa/${id}`,
        withCredentials: true,
    });
    // let id = 
    const newComment = $(
            `<div class="comments">
                <div class="commForm">
                    <form class="modal-content">
                        <textarea id="commText" placeholder="Add a comment."></textarea>
                        <button id="commSubmit" recipe="${id}">Submit</button>
                    </form>
                </div>
                <hr>
            </div>
    `);
    if(result.data.comments) {
        let arr = result.data.comments.map(prepComment);
        newComment.append(arr);
    }
}

export const prepComment = function(c) {
    let time = new Date(c.updatedAt).toLocaleString("en-US");
    const com = $(`<section class="comment" id="commentBox" recipe="${c.id}">                      
                            <div class="user">${c.author}</div>
                            <div class="content">
                                <p class="tbody">${c.body}</p>
                                <p class="time">${time}</p>
                            </div>
                        </section>
    `);
    return col;
}

export const handleComment = async function(event) {
    event.preventDefault();

    const r = $(event.currentTarget).parent().parent();
    let comm = r.children().children("#replyText");
    console.log(a);
    const id = $(event.currentTarget).attr('tweet');
    console.log(id);
    const body = a.val();

    const result = await axios({
        method: 'post',
        url: 'https://comp426fa19.cs.unc.edu/a09/tweets',
        withCredentials: true,
        data: {
          "type": "reply",
          "parent": id,
          "body": ""+body
        },
      });
}

//load image, load info, load likes, load comments

$(document).ready(function () {
    let $root = $('#root');
    //load page content
    $('body').append(renderPage());
    setHeader();

    $(document).on('scroll', function()
	{
		setHeader();
	});
})


// export const renderPage = function() {
//     return `<div id="root">
                // <header id="head">
                //     <div id="h">
                //     <h1 class="title">head</h1>
                //     </div>
                // </header>
                // <section id="new">  
                    
                // </section>
//                 <section id="feed">
//                     <div id="recipeFeed"></div>
//                 </section> 
//             </div>    
//     `;
// }

/* <div class="hero-nav">
        <div class="hero-nav__inner">
            <h1>page</h1>
            <div class="hero-nav__button">
                <a href="#" class="btn"></a>
            </div>
        </div>
    </div>  */


/* <div class="header_content d-flex flex-row align-items-center justify-content-start">
                        <nav class="main_nav">
                            <ul>
                                <li><a href="index.html">home</a></li>
                                <li><a href="about.html">search</a></li>
                                <li><a href="menu.html">my recipes</a></li>
                            </ul>
                        </nav>
                    </div> */
